<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {# é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚‚æ­£ã—ã„å½¢å¼ã«ä¿®æ­£ #}
  <link rel="stylesheet" href="{{ url_for('dashboard.static', filename='css/dashboard.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/header.css') }}">
  <title>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</title>
</head>
<body>
<header class="top-header">
    <div class="logo-section">
      <div class="logo-img">æ–‡</div>
      <span class="app-name">æ–‡è„ˆå·¥æˆ¿</span>
    </div>
    <div class="user-section">
      <span class="user-badge">ç®¡ç†è€…</span>
      <button class="logout-btn" onclick="location.href='{{ url_for('auth.logout') }}'">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
    </div>
  </header>

  <div class="holes-container">
    <div class="hole"></div><div class="hole"></div><div class="hole"></div><div class="hole"></div>
    <div class="hole"></div><div class="hole"></div><div class="hole"></div><div class="hole"></div>
  </div>

  <div class="tabs-container">
    {# ãƒ¦ãƒ¼ã‚¶ç®¡ç†ã®ãƒ–ãƒ«ãƒ¼ãƒ—ãƒªãƒ³ãƒˆåãŒä¸æ˜ãªå ´åˆã¯ä¸€æ—¦ '#' ã«ã™ã‚‹ã‹ã€æ­£ã—ã„åå‰ã«æ›¸ãæ›ãˆã¦ãã ã•ã„ #}
    <a href="#" class="tab" data-page="users" data-color="#e8dcc8">ãƒ¦ãƒ¼ã‚¶ç®¡ç†</a>
    
    {# ã€ä¿®æ­£ç®‡æ‰€ã€‘'task.index' ã‹ã‚‰ 'writing.index' ã«å¤‰æ›´ #}
    <a href="{{ url_for('writing.index') }}" class="tab" data-page="tasks" data-color="#e6d5a8">èª²é¡Œé…ä¿¡</a>
    
    <a href="{{ url_for('dashboard.index') }}" class="tab" data-page="dashboard" data-color="#d4c5b0">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a>
  </div>

  <div class="app-container">
    <div class="content-wrapper">
      <h1 class="page-title">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
    
      <div class="dashboard-grid">
        <div class="left-column">
          <div class="profile-box box">
            <h2 class="box-title">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±</h2>
            <div class="profile-item">
              <span class="profile-label">ç®¡ç†è€…ID</span>
              <span class="profile-value">{{ admin.admin_id }}</span>
            </div>
            <div class="profile-item">
              <span class="profile-label">æ°ã€€ã€€å</span>
              <span class="profile-value">{{ admin.admin_name }}</span>
            </div>
          </div><br>

          <div class="section box">
            <div class="group-header">
              <h2 class="group-title">æ‰€å±ã‚°ãƒ«ãƒ¼ãƒ—</h2>
              <button type="button" class="group-button" onclick="GoGroupManage()">ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†</button>
            </div>
            <div class="group-list">
              {% for group in groups %}
              <div class="group-item">
                <span class="folder-icon">ğŸ“</span>
                <div class="group-info">
                  <span class="group-name">{{ group.group_name }}</span>
                </div>
                <span class="group-members">ãƒ¡ãƒ³ãƒãƒ¼ï¼š {{ group.member_count }}äºº</span>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>

        <div class="right-column">
          <div class="tasks-box box">
            <h2 class="box-title">é…ä¿¡æ¸ˆèª²é¡Œ</h2>
            <div class="submission-content">
              <div class="task-item">
                <div class="task-header">
                  <label class="task-label">ç´¯è¨ˆèª²é¡Œé…ä¿¡æ•°</label>
                  <a href="{{ url_for('dashboard.streamed_list') }}"><button type="button" class="btn-detail">è©³ç´°</button></a>
                </div>
                <p class="task-num">{{ streamed_count }}ã‚³</p>
              </div>
              <div class="task-item">
                <div class="task-header">
                  <label class="task-label">æœªæ·»å‰Šèª²é¡Œ</label>
                  <a href="{{ url_for('dashboard.streamed_list') }}"><button type="button" class="btn-detail">è©³ç´°</button></a>
                </div>
                <p class="task-num">{{ unchecked_count }}ä»¶</p>
              </div>
            </div>

            <div class="submission-section">
              <h3 class="submission-title">èª²é¡Œæå‡ºç®¡ç†</h3>
              <div class="submission-content">
                <div class="submission-row">
                  <span class="submission-label">æå‡ºæ¸ˆã¿</span>
                  <span class="submission-num">{{ submitted_count }}ä»¶</span>
                </div>
                <div class="submission-row">
                  <span class="submission-label">æœªæå‡º</span>
                  <span class="submission-num">{{ unsubmitted_count }}ä»¶</span>
                </div>
                <p class="deadline-info">ä»Šé€±{{ weekly_deadline_count }}ä»¶ç· åˆ‡</p>
              </div>
            </div>
          </div>
          <div class="bottom-buttons">
            <button type="button" class="big-btn" onclick="location.href='{{ url_for('writing.update_progress') }}'">å­¦ç¿’é€²æ—</button>
            <button type="button" class="big-btn">è¿”å´æ¸ˆèª²é¡Œ</button>
          </div>   
        </div>
      </div>
    </div>
  </div>
  <script>
    function GoGroupManage() {
      window.location.href = "{{ url_for('dashboard.index') }}manage";
    }
  </script>
  <script src="{{ url_for('static', filename='js/header.js') }}"></script> 
</body>
</html>